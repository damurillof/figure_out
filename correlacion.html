<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Correlación</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Didier Murillo</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Teaching.html">Teaching</a>
</li>
<li>
  <a href="about.html">About Me</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Correlación</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#dos-variables-cuantitativas-correlacion">Dos variables cuantitativas: correlación</a><ul>
<li><a href="#estudio-de-caso-el-arbol-de-china">Estudio de caso: El árbol de china</a></li>
<li><a href="#propiedades-del-coeficiente-de-correlacion">Propiedades del coeficiente de correlación:</a></li>
<li><a href="#correlacion-debil-vs-cero-correlacion">Correlación débil vs cero correlación</a></li>
</ul></li>
</ul>
</div>

<div id="dos-variables-cuantitativas-correlacion" class="section level2">
<h2>Dos variables cuantitativas: correlación</h2>
<p>Nuestro interés en esta sección se ubica en situaciones en las que podemos asociar a cada elemento de una población o muestrear dos mediciones x e y, particularmente en el caso de que sea de interés utilizar el valor de x para predecir el valor de y. Por ejemplo, <code>x</code> podría ser el peso en libras de una mujer antes de quedar en embarazo, <code>y</code> el peso en libras del recién nacido. Aprenderemos métodos estadísticos para analizar la relación entre dos variables cuantitativas <code>x</code> e <code>y</code> en este contexto.</p>
<p>En general, si hay más de dos variables, estamos interesados en sus relaciones. Estamos interesados en contestar:</p>
<p>¿Hay una relación?</p>
<p>Si hay una relación, ¿podemos describirla?</p>
<p>Si ambas variables son cuantitativas, para la primera pregunta podemos encontrar la correlación y para la segunda podemos hacer una regresión.</p>
<div id="estudio-de-caso-el-arbol-de-china" class="section level3">
<h3>Estudio de caso: El árbol de china</h3>
<pre class="r"><code>data(&quot;Orange&quot;)
head(Orange,15)</code></pre>
<pre><code>##    Tree  age circumference
## 1     1  118            30
## 2     1  484            58
## 3     1  664            87
## 4     1 1004           115
## 5     1 1231           120
## 6     1 1372           142
## 7     1 1582           145
## 8     2  118            33
## 9     2  484            69
## 10    2  664           111
## 11    2 1004           156
## 12    2 1231           172
## 13    2 1372           203
## 14    2 1582           203
## 15    3  118            30</code></pre>
<p>Tanto <code>circumference</code> en mm y <code>age</code> en días son variables cuantitativas. Ninguna de las dos son muy interesantes en sí mismas, el verdadero interés está en su relación. ¿Qué nos dice la edad del árbol sobre la circunferencia de la planta?</p>
<p>Para tratar este problema usualmente comenzamos dibujando un diagrama de dispersión.</p>
<pre class="r"><code>plot(Orange$age, Orange$circumference , main=&quot;Scatterplot Orange tree&quot;, 
    xlab=&quot;Time in Days&quot;, ylab=&quot;Circumfence in mm&quot;,pch=19)</code></pre>
<p><img src="correlacion_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>La gráfica muestra la relación que existe entre la edad del árbol de china y la circunferencia del tronco. Si los puntos están totalmente dispersos se dice que no hay relación entre las variables, a diferencia de haya algún patrón como en el caso de el árbol de china.</p>
<blockquote>
<p><strong>¿Cómo podemos caracterizar numéricamente la relación entre las variables?</strong></p>
</blockquote>
<p>La elección más popular para ese número es el coeficiente de correlación <code>r</code> de Pearson, que podemos encontrar en <code>RStudio</code> con el comando <code>cor()</code></p>
<pre class="r"><code>cor(Orange$age, Orange$circumference )</code></pre>
<pre><code>## [1] 0.9135189</code></pre>
<p>Vemos que el resultado de la correlación entre la edad de la planta y la circunferencia del tronco es <span class="math inline">\(0.91\)</span>.</p>
<pre class="r"><code>x &lt;- rnorm(500,2,5)
y &lt;- rnorm(500,5,2)
plot(x,y,pch=18)</code></pre>
<p><img src="correlacion_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>¿Cuánto es la correlación entre <code>x</code> e <code>y</code>?</p>
<pre class="r"><code>cor(x,y)</code></pre>
<pre><code>## [1] -0.04877981</code></pre>
<p>El coeficiente de correlación es similar a la media, mediana, desviación estándar, Q1, etc .: viene en dos versiones:</p>
<ul>
<li><p>Es una estadístico cuando se encuentra a partir de una muestra</p></li>
<li><p>Es un parámetro cuando pertenece a una población.</p></li>
</ul>
<p>En el primer caso usamos el símbolo <span class="math inline">\(r\)</span>, en el segundo caso usamos <span class="math inline">\(\rho\)</span>.</p>
</div>
<div id="propiedades-del-coeficiente-de-correlacion" class="section level3">
<h3>Propiedades del coeficiente de correlación:</h3>
<ol style="list-style-type: decimal">
<li>Siempre esta entre -1 &lt;r &lt;1</li>
<li><span class="math inline">\(r\)</span> cercano a 0 significa muy poca o incluso ninguna correlación (relación)</li>
<li><span class="math inline">\(r\)</span> cercano a ± 1 significa una correlación muy fuerte <span class="math inline">\(r = -1\)</span> o <span class="math inline">\(r = 1\)</span> significa una correlación lineal perfecta (es decir, en el diagrama de dispersión los puntos forman una línea recta)</li>
<li><span class="math inline">\(r &lt; 0\)</span> significa una relación negativa (a medida que x se hace más grande y se hace más pequeño)</li>
<li><p><span class="math inline">\(r &gt; 0\)</span> significa una relación positiva (a medida que x aumenta, y aumenta)</p></li>
<li><p><span class="math inline">\(r\)</span> trata simétricamente x e y, es decir <span class="math inline">\(cor(x, y) = cor(y, x)\)</span></p></li>
</ol>
<p>El coeficiente de correlación de Peason solo mide las relaciones lineales, no funciona si una relación no es lineal.</p>
<p>Aquí hay un ejemplo:</p>
<div class="figure">
<img src="cor.png" />

</div>
<p><span class="math inline">\(cor(x, y1) = 0.986\)</span></p>
<p><span class="math inline">\(cor(x, y2) = 0.937\)</span></p>
<p><span class="math inline">\(cor(x, y3) = 0.88\)</span></p>
<p><span class="math inline">\(cor(x, y4) = -0.111\)</span></p>
<p>Todos para estos tienen aproximadamente la misma “fuerza” de una relación.</p>
<p>PERO</p>
<p>El coeficiente de correlación de Peason solo es útil para el primer caso.</p>
<p>Otra situación en la que el coeficiente de correlación de Pearson no funciona es si hay valores atípicos en el conjunto de datos. Incluso solo un valor atípico (“Outlier”) puede determinar el coeficiente de correlación:</p>
<div class="figure">
<img src="cor1.png" />

</div>
</div>
<div id="correlacion-debil-vs-cero-correlacion" class="section level3">
<h3>Correlación débil vs cero correlación</h3>
<p>Es importante mantener dos cosas separadas: una situación con dos variables que no están correlacionadas <span class="math inline">\((\rho = 0)\)</span> y dos variables con una correlación débil ( <span class="math inline">\(\rho ≠ 0\)</span> pero pequeña).</p>
<p>En cualquier caso, encontraríamos una <span class="math inline">\(r\)</span> cercana a 0 (¡pero nunca = 0!).</p>
<hr />
<hr />
<hr />
<hr />
<hr />
<hr />
<hr />
<hr />
<hr />
<hr />
<hr />
<hr />
<hr />
<hr />
<hr />
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
